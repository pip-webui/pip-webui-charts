!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(e.pip||(e.pip={})).charts=t()}}(function(){return function t(e,n,a){function i(l,o){if(!n[l]){if(!e[l]){var c="function"==typeof require&&require;if(!o&&c)return c(l,!0);if(r)return r(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[l]={exports:{}};e[l][0].call(u.exports,function(t){var n=e[l][1][t];return i(n?n:t)},u,u.exports,t,e,n,a)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<a.length;l++)i(a[l]);return i}({1:[function(t,e,n){!function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries",xTickFormat:"=pipXTickFormat",yTickFormat:"=pipYTickFormat",interactiveLegend:"=pipInterLegend"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,n,a,i){function r(t){var e=[];return _.each(t,function(t){t.disabled||e.push(t)}),_.cloneDeep(e)}function l(){if(0===t.find(".nv-noData").length)d3.select(t.find(".empty-state")[0]).remove();else{t.find(".nv-noData").attr("x",100);var e=p.append("g").classed("empty-state",!0);e.append("g").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",h-10).attr("width",38),e.append("g").attr("transform","translate(46, 60)").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",200).attr("width",38),e.append("g").attr("transform","translate(92, 160)").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",100).attr("width",38)}}function o(e){void 0===e&&(e=1e3);var n=t.find(".nv-bar text"),a=t.find(".nv-bar");t.find(".nvd3-svg")[0].getBBox().height;d3.select(t.find(".bar-chart")[0]).classed("visible",!0),a.each(function(t,a){var i=Number(d3.select(a).select("rect").attr("height")),r=Number(d3.select(a).select("rect").attr("width")),l=d3.select(a),o=d3.transform(l.attr("transform")).translate[0],c=d3.transform(l.attr("transform")).translate[1];l.attr("transform","translate("+Number(o+t*(r+15))+", "+(h-20)+")").select("rect").attr("height",0),l.transition().duration(e).attr("transform","translate("+Number(o+t*(r+15))+", "+c+")").select("rect").attr("height",i),d3.select(n[t]).attr("dy",i/2+10).attr("x",r/2)})}function c(t){return"rgba("+i[t][500].value[0]+","+i[t][500].value[1]+","+i[t][500].value[2]+","+(i[t][500].value[3]||1)+")"}function s(){u.data&&u.data.forEach(function(t,e){t.values[0]&&(t.values[0].color=t.values[0].color||c(f[e]),t.color=t.values[0].color)})}var u=this,d=null,p=null,f=_.map(i,function(t,e){return e}),h=270;u.data=r(u.series)||[],s(),u.legend=_.clone(u.series),(u.series||[]).length>f.length&&(u.data=u.series.slice(0,9)),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(f.map(c))},e.$watch("barChart.series",function(t){u.data=r(t),u.legend=_.clone(u.series),s(),d&&(p.datum(u.data).call(d),o(),l())}),e.$watch("barChart.legend",function(t){u.data=r(t),u.legend=t,d&&(p.datum(u.data).call(d),o(),l())},!0),nv.addGraph(function(){return d=nv.models.discreteBarChart().margin({top:10,right:0,bottom:10,left:50}).x(function(t){return t.label||t.key||t.x}).y(function(t){return t.value}).showValues(!0).staggerLabels(!0).showXAxis(!0).showYAxis(!0).valueFormat(d3.format("d")).duration(0).height(h).color(function(t){return t.color||d3.scale.paletteColors().range()}),d.tooltip.enabled(!1),d.noData("There is no data right now..."),d.yAxis.tickFormat(function(t){return u.yTickFormat?u.yTickFormat(t):t}),d.xAxis.tickFormat(function(t){return u.xTickFormat?u.xTickFormat(t):t}),p=d3.select(t.get(0)).select(".bar-chart svg").datum(u.data).style("height","285px").call(d),nv.utils.windowResize(function(){d.update(),o(0)}),d},function(){n(o,0),l()})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",t)}()},{}],2:[function(t,e,n){!function(){"use strict";angular.module("pipCharts",["pipBarCharts","pipLineCharts","pipPieCharts","pipChartLegends"])}()},{}],3:[function(t,e,n){!function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries",interactive:"=pipInteractive"},templateUrl:"legend/interactive_legend.html",controller:["$element","$scope","$timeout","$mdColorPalette",function(t,e,n,a){function i(){var n=$(t).find("md-checkbox .md-container");n.each(function(t,n){$(n).css("color",e.series[t].color||o[t]).find(".md-icon").css("background-color",e.series[t].color||o[t])})}function r(){var e=$(t).find(".chart-legend-item");e.each(function(t,e){n(function(){$(e).addClass("visible")},200*t)})}function l(){e.series&&e.series.forEach(function(t,e){t.color=t.color||(t.values&&t.values[0]&&t.values[0].color?t.values[0].color:o[e]),t.disabled=t.disabled||!1})}var o=_.map(a,function(t){return t[500].hex});e.$watch("series",function(){n(function(){r(),i()},0),l()},!0),e.$watch("interactive",function(t,e){1==t&&t!=e&&n(i,0)}),n(function(){r(),i()},0),l()}]}}angular.module("pipChartLegends",[]).directive("pipChartLegend",t)}()},{}],4:[function(t,e,n){!function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries",showYAxis:"=pipYAxis",showXAxis:"=pipXAxis",xFormat:"=pipXFormat",xTickFormat:"=pipXTickFormat",yTickFormat:"=pipYTickFormat",dynamic:"=pipDynamic",interactiveLegend:"=pipInterLegend"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,n,a,i){function r(t){var e=[];return _.each(t,function(t){t.disabled||e.push(t)}),_.cloneDeep(e)}function l(){t.find("text.nv-noData").get(0)?(f.append("defs").append("pattern").attr("height",1).attr("width",1).attr("x","0").attr("y","0").attr("id","bg").append("image").attr("x",47).attr("y",0).attr("height","100%").attr("width",1151).attr("xlink:href","images/line_chart_empty_state.svg"),f.append("rect").classed("empty-state",!0).attr("height","100%").attr("width","100%").attr("fill","url(#bg)")):d3.select(t.find(".empty-state")[0]).remove()}function o(e,n){var a=n[1]-n[0],i=e[1]-e[0],r=(e[1]-e[0])/a===1;$(t[0]).find(".visual-scroll").css("opacity",function(){return r?0:1}),r||$(t[0]).find(".scrolled-block").css("left",function(){return e[0]/a*100+"%"}).css("width",function(){return i/a*100+"%"})}function c(e,n){function a(t){v=t.yAxis,x=t.xAxis,b=t.xDomain||x.scale().domain,y=t.yDomain||v.scale().domain,C=t.update,w=x.scale(),k=v.scale(),T=x.scale().domain().slice(),F=v.scale().domain().slice(),L=T,z=A.scale(),D=A.translate(),w.nice(),k.nice()}function i(t,e,n,a){return t[0]<e[0]&&(t[0]=e[0],L[0]!==e[0]||n!==z?t[1]+=e[0]-t[0]:(t[1]=L[1],a=_.clone(D))),t[1]>e[1]&&(t[1]=e[1],L[1]!==e[1]||n!==z?t[0]-=t[1]-e[1]:(t[0]=L[0],a=_.clone(D))),A.translate(a),L=_.clone(t),z=_.clone(n),D=_.clone(a),t}function r(){A.scale(1),A.translate([0,0]),w.domain(T),A.x(w).y(k),n.call(A)}function l(){1===d3.event.scale?(f(),r()):(b(i(w.domain(),T,d3.event.scale,d3.event.translate)),C()),o(w.domain(),T)}function c(t){var e=A.translate();"right"===t?e[0]-=20:e[0]+=20,A.translate(e),A.event(n)}function s(t){var e=A.scale(),n=A.translate();return[(t[0]-n[0])/e,(t[1]-n[1])/e]}function u(t){var e=A.scale(),n=A.translate();return[t[0]*e+n[0],t[1]*e+n[1]]}function p(){switch(d3.event.keyCode){case 39:c("right");break;case 37:c("left");break;case 107:h("in");break;case 109:h("out")}}function f(){b(T),C(),A.scale(1),A.translate([0,0]),z=1,D=[0,0]}var g=4,v=null,x=null,b=null,y=null,C=null,n=n,w=null,k=null,T=null,F=null,A=d3.behavior.zoom(),L=null,z=null,D=null;a(e),h=function(t){var e=[n[0][0].getBBox().width/2,n[0][0].getBBox().height/2],a=A.translate(),i=s(e);"in"===t?z<g&&A.scale(z+.2):z>1&&A.scale(z-.2);var r=u(i);A.translate([a[0]+e[0]-r[0],a[1]+e[1]-r[1]]),A.event(n)},A.x(w).y(k).scaleExtent([1,g]).on("zoom",l),n.call(A).on("dblclick.zoom",f),$(t.get(0)).addClass("dynamic"),n.attr("focusable",!1).style("outline","none").on("keydown",p).on("focus",function(){});var B=function(t){for(var e,n=null,a=0;a<t.length;a++)if(!t[a].disabled){var i=d3.max(t[a].values,function(t){return d.xFormat?d.xFormat(t.x):t.x}),r=d3.min(t[a].values,function(t){return d.xFormat?d.xFormat(t.x):t.x});n=!n||i<n?i:n,e=!e||r>e?r:e}return[e,n]};m=function(t){v=e.yAxis,x=e.xAxis,w=x.scale(),k=v.scale(),T=B(t),1===A.scale()&&(A.x(w).y(k),n.call(A),A.event(n)),o(w.domain(),T)}}function s(t){return"rgba("+i[t][500].value[0]+","+i[t][500].value[1]+","+i[t][500].value[2]+","+(i[t][500].value[3]||1)+")"}function u(){d.data&&d.data.forEach(function(t,e){t.color=t.color||s(g[e])})}var d=this,p=null,f=null,h=null,m=null,g=_.map(i,function(t,e){return e});d.data=r(d.series)||[],d.legend=_.clone(d.series),d.sourceEvents=[],d.isVisibleX=function(){return void 0==d.showXAxis||d.showXAxis},d.isVisibleY=function(){return void 0==d.showYAxis||d.showYAxis},d.zoomIn=function(){h&&h("in")},d.zoomOut=function(){h&&h("out")},d.series&&d.series.length>g.length&&(d.data=d.series.slice(0,9)),u(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(g.map(s))},e.$watch("lineChart.series",function(t){d.data=r(t),d.legend=_.clone(d.series),u(),p&&(f.datum(d.data||[]).call(p),l(),m&&m(d.data))},!0),e.$watch("lineChart.legend",function(t){d.data=r(t),d.legend=t,p&&(f.datum(d.data||[]).call(p),l(),m&&m(d.data))},!0),nv.addGraph(function(){return p=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:50}).x(function(t){return d.xFormat?d.xFormat(t.x):t.x}).y(function(t){return t.value}).height(270).useInteractiveGuideline(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(t){return t.color||d3.scale.paletteColors().range()}),p.tooltip.enabled(!1),p.noData("There is no data right now..."),p.yAxis.tickFormat(function(t){return d.yTickFormat?d.yTickFormat(t):t}),p.xAxis.tickFormat(function(t){return d.xTickFormat?d.xTickFormat(t):t}),f=d3.select(t.get(0)).select(".line-chart svg"),f.datum(d.data||[]).style("height","270px").call(p),d.dynamic&&c(p,f),nv.utils.windowResize(p.update),p},function(){l()})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",t)}()},{}],5:[function(t,e,n){!function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries",donut:"=pipDonut",legend:"=pipShowLegend",total:"=pipShowTotal",size:"=pipPieSize"},bindToController:!0,controllerAs:"pieChart",templateUrl:"pie/pie_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,n,a,i){function r(e){if(t.find("text.nv-noData").get(0)){0===t.find(".pip-empty-pie-text").length&&t.find(".pie-chart").append("<div class='pip-empty-pie-text'>There is no data right now...</div>");var n=d3.layout.pie().sort(null),a=Number(u.size||250),i=d3.svg.arc().innerRadius(a/2-20).outerRadius(a/2-57);e=d3.select(e).append("g").classed("empty-state",!0).attr("transform","translate("+a/2+","+a/2+")");e.selectAll("path").data(n([1])).enter().append("path").attr("fill","rgba(0, 0, 0, 0.08)").attr("d",i)}else d3.select(t.find(".empty-state")[0]).remove(),t.find(".pip-empty-pie-text").remove()}function l(e){if((u.total||u.donut)&&u.data){var n=u.data.reduce(function(t,e){return t+e.value},0);d3.select(e).select(".nv-pie:not(.nvd3)").append("text").classed("label-total",!0).attr("text-anchor","middle").style("dominant-baseline","central").text(n),p=d3.select(t.find("text.label-total").get(0)).style("opacity",0)}}function o(){if((u.total||u.donut)&&u.data){var e=u.donut?t.find(".nv-pieLabels").get(0).getBBox():t.find(".nvd3.nv-pieChart").get(0).getBBox();e.width&&e.height&&p.style("font-size",~~e.width/(u.donut?2:2.5)).style("opacity",1)}}function c(t){return"rgba("+i[t][500].value[0]+","+i[t][500].value[1]+","+i[t][500].value[2]+","+(i[t][500].value[3]||1)+")"}function s(){u.data&&u.data.forEach(function(t,e){t.color=t.color||c(h[e])})}var u=this,d=null,p=null,f=null,h=_.map(i,function(t,e){return e}),m=o;u.data=u.data||[],u.showLegend=function(){return void 0===u.legend||u.legend},u.series&&u.series.length>h.length&&(u.data=u.series.slice(0,9)),e.$watch("pieChart.series",function(e){u.data=e,s(),d&&(f.datum(u.data).call(d),n(m),r(d3.select(t.get(0)).select(".pie-chart svg")[0][0]))},!0),s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(c))},nv.addGraph(function(){return d=nv.models.pieChart().margin({top:0,right:0,bottom:0,left:0}).x(function(t){return u.donut?t.value:null}).y(function(t){return t.value}).height(u.size||250).width(u.size||250).showLabels(!0).labelThreshold(.001).growOnHover(!1).donut(u.donut).donutRatio(.5).color(function(t){return t.color||d3.scale.paletteColors().range()}),d.tooltip.enabled(!1),d.noData("There is no data right now..."),d.showLegend(!1),f=d3.select(t.get(0)).select(".pie-chart svg").attr("height",u.size||"250px").attr("width",u.size||"250px").style("opacity",0).datum(u.data||[]).call(d),nv.utils.windowResize(function(){d.update(),n(m),r(d3.select(t.get(0)).select(".pie-chart svg")[0][0])}),d},function(){n(function(){var e=d3.select(t.get(0)).select(".pie-chart svg")[0][0];l(e),d3.select(e).transition().duration(1e3).style("opacity",1),n(o,800),r(e)})})}]}}angular.module("pipPieCharts",[]).directive("pipPieChart",t)}()},{}],6:[function(t,e,n){!function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("bar/bar_chart.html",'<div class="bar-chart"><svg></svg></div><pip-chart-legend pip-series="barChart.legend" pip-interactive="barChart.interactiveLegend"></pip-chart-legend>')}])}(),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("legend/interactive_legend.html",'<div><div class="chart-legend-item" ng-repeat="item in series"><md-checkbox class="lp16 m8" ng-model="item.disabled" ng-true-value="false" ng-false-value="true" ng-if="interactive" aria-label="{{ item.label }}"><p class="legend-item-value" ng-if="item.value" ng-style="{\'background-color\': item.color}">{{ item.value }}</p><p class="legend-item-label">{{:: item.label || item.key }}</p></md-checkbox><div ng-if="!interactive"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label || item.key}}</span></div></div></div>')}])}(),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("pie/pie_chart.html",'<div class="pie-chart" ng-class="{\'circle\': !pieChart.donut}"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="pieChart.data" pip-interactive="false" ng-if="pieChart.showLegend()"></pip-chart-legend>')}])}(),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto" ng-class="{\'visible-x-axis\': lineChart.isVisibleX(), \'visible-y-axis\': lineChart.isVisibleY()}"></svg><div class="scroll-container"><div class="visual-scroll"><div class="scrolled-block"></div></div></div><md-button class="md-fab md-mini minus-button" ng-click="lineChart.zoomOut()"><md-icon md-svg-icon="icons:minus-circle"></md-icon></md-button><md-button class="md-fab md-mini plus-button" ng-click="lineChart.zoomIn()"><md-icon md-svg-icon="icons:plus-circle"></md-icon></md-button></div><pip-chart-legend pip-series="lineChart.legend" pip-interactive="lineChart.interactiveLegend"></pip-chart-legend>')}])}()},{}]},{},[1,2,3,4,5,6])(6)});
//# sourceMappingURL=pip-webui-charts.min.js.map
