!function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="barChart.legend" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("legend/interactive_legend.html",'<div><div class="chart-legend-item" ng-repeat="item in series"><md-checkbox class="lp16 m8" ng-model="item.disabled" ng-true-value="false" ng-false-value="true" ng-if="interactive" aria-label="{{ item.label }}"><p class="legend-item-value" ng-style="{\'background-color\': item.color}">{{ item.value }}</p><p class="legend-item-label">{{:: item.label || item.key }}</p></md-checkbox><div ng-if="!interactive"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label || item.key}}</span></div></div></div>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto" ng-class="{\'visible-x-axis\': lineChart.isVisibleX(), \'visible-y-axis\': lineChart.isVisibleY()}"></svg><md-button class="md-fab md-mini minus-button" ng-click="lineChart.zoomOut()"><md-icon md-svg-icon="icons:minus-circle"></md-icon></md-button><md-button class="md-fab md-mini plus-button" ng-click="lineChart.zoomIn()"><md-icon md-svg-icon="icons:plus-circle"></md-icon></md-button></div><pip-chart-legend pip-series="lineChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("pie/pie_chart.html",'<div class="pie-chart" flex="auto" layout="column"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="pieChart.data" pip-interactive="false"></pip-chart-legend>')}])}(),function(){"use strict";angular.module("pipCharts",["pipBarCharts","pipLineCharts","pipPieCharts","pipChartLegends"])}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var e=d3.selectAll(".nv-bar text")[0],t=d3.selectAll(".nv-bar")[0],a=d3.select(".nvd3-svg")[0][0].getBBox().height;d3.select(".bar-chart").classed("visible",!0),t.forEach(function(t,n){var i=t.getBBox(),l=d3.select(t),r=d3.transform(l.attr("transform")).translate[1];l.attr("transform","translate("+Number(46*n+50)+", "+a+")").select("rect").attr("width",38),l.transition().duration(1e3).attr("transform","translate("+Number(46*n+50)+", "+r+")"),d3.select(e[n]).attr("dy",i.height/2).attr("x",19)})}function r(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function o(){s.legend.forEach(function(e,t){e.color=e.color||r(d[t])})}var s=this,c=null,u=null,d=_.map(i,function(e,t){return t});s.data=s.series||[],(s.series||[]).length>d.length&&(s.data=s.series.slice(0,9)),s.legend=s.data[0].values,o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(r))},t.$watch("barChart.series",function(e){s.data=e||[],o(),c&&(u.datum(s.data).call(c),c.update())}),nv.addGraph(function(){return c=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(e){return e.label}).y(function(e){return e.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(e){return e.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),u=d3.select(e.get(0)).select(".bar-chart svg").datum(s.data).style("height",270).call(c),c},function(){c.dispatch.on("beforeUpdate",function(){a(l,0)}),a(l,0)})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",interactive:"=pipInteractive"},templateUrl:"legend/interactive_legend.html",controller:["$element","$scope","$timeout","$mdColorPalette",function(e,t,a,n){function i(){var a=$(e).find("md-checkbox .md-container");a.each(function(e,a){$(a).css("color",t.series[e].color||o[e]).find(".md-icon").css("background-color",t.series[e].color||o[e])})}function l(){var t=$(e).find(".chart-legend-item");t.each(function(e,t){a(function(){$(t).addClass("visible")},200*e)})}function r(){t.series.forEach(function(e,t){e.color=e.color||o[t],e.disabled=e.disabled||!1})}var o=_.map(n,function(e){return e[500].hex});t.$watch("series",function(){a(function(){l(),i()},0),r()},!0),t.$watch("interactive",function(e,t){1==e&&e!=t&&a(i,0)}),a(function(){l(),i()},0),r()}]}}angular.module("pipChartLegends",[]).directive("pipChartLegend",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",showYAxis:"=pipYAxis",showXAxis:"=pipXAxis",dynamic:"=pipDynamic"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(t){function a(e,t,a,n){return e[0]<t[0]&&(e[0]=t[0],C[0]!==t[0]||a!==y?e[1]+=t[0]-e[0]:(e[1]=C[1],n=_.clone(w))),e[1]>t[1]&&(e[1]=t[1],C[1]!==t[1]||a!==y?e[0]-=e[1]-t[1]:(e[0]=C[0],n=_.clone(w))),x.translate(n),C=_.clone(e),y=_.clone(a),w=_.clone(n),e}function n(){1===d3.event.scale?r():(u(a(f.domain(),g,d3.event.scale,d3.event.translate)),h())}function i(e){var t=x.scale(),a=x.translate();return[(e[0]-a[0])/t,(e[1]-a[1])/t]}function l(e){var t=x.scale(),a=x.translate();return[e[0]*t+a[0],e[1]*t+a[1]]}function r(){u(g),p(b),h(),x.scale(1),x.translate([0,0]),y=1,w=[0,0]}var o=4,s=t.yAxis,c=t.xAxis,u=t.xDomain||c.scale().domain,p=t.yDomain||s.scale().domain,h=t.redraw,m=t.svg,f=(t.discrete,c.scale()),v=s.scale(),g=c.scale().domain().slice(),b=s.scale().domain().slice(),x=d3.behavior.zoom(),C=g,y=x.scale(),w=x.translate();f.nice(),v.nice(),d=function(e){var t=[m[0][0].getBBox().width/2,m[0][0].getBBox().height/2],a=x.translate(),n=i(t);"in"===e?y<o&&x.scale(y+.2):y>1&&x.scale(y-.2);var r=l(n);x.translate([a[0]+t[0]-r[0],a[1]+t[1]-r[1]]),x.event(m)},x.x(f).y(v).scaleExtent([1,o]).on("zoom",n),m.call(x).on("dblclick.zoom",r),$(e.get(0)).addClass("dynamic")}function r(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function o(){s.data.forEach(function(e,t){e.color=e.color||r(p[t])})}var s=this,c=null,u=null,d=null,p=_.map(i,function(e,t){return t});s.data=s.series||[],s.sourceEvents=[],s.isVisibleX=function(){return void 0==s.showXAxis||s.showXAxis},s.isVisibleY=function(){return void 0==s.showYAxis||s.showYAxis},s.zoomIn=function(){d&&d("in")},s.zoomOut=function(){d&&d("out")},s.series.length>p.length&&(s.data=s.series.slice(0,9)),o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(p.map(r))},t.$watch("lineChart.series",function(e){s.data=e,o(),c&&u.datum(s.data).call(c)},!0),nv.addGraph(function(){return c=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:30}).x(function(e){return e.x}).y(function(e){return e.value}).height(270).interactive(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(e){return e.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),c.yAxis.tickFormat(function(e){return e/1e3+"k"}),c.xAxis.tickFormat(function(e){return e.toFixed(2)}),u=d3.select(e.get(0)).select(".line-chart svg"),u.datum(s.data).style("height",270).call(c),s.dynamic&&l({xAxis:c.xAxis,yAxis:c.yAxis,yDomain:c.yDomain,xDomain:c.xDomain,redraw:function(){c.update()},svg:u}),nv.utils.windowResize(c.update),c})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",e)}(),function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"pieChart",templateUrl:"pie/pie_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,a,n,i){function l(){var t=d3.select(e.get(0)).select(".pie-chart svg")[0][0],a=c.data.reduce(function(e,t){return e+t.value},0);d3.select(t).select(".nv-pie:not(.nvd3)").append("text").classed("label-total",!0).attr("text-anchor","middle").style("dominant-baseline","central").text(a),d3.select(t).transition().duration(1e3).style("opacity",1),d=d3.select(e.find("text.label-total").get(0)),m()}function r(){var t=e.find(".nv-pieLabels").get(0).getBBox();t.width&&t.height&&d.style("font-size",~~t.width/2)}function o(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function s(){c.data.forEach(function(e,t){e.color=e.color||o(h[t])})}var c=this,u=null,d=null,p=null,h=_.map(i,function(e,t){return t}),m=r;c.data=c.data||[],c.series.length>h.length&&(c.data=c.series.slice(0,9)),t.$watch("pieChart.series",function(e){c.data=e,s(),u&&(p.datum(c.data).call(u),a(m))},!0),s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(o))},nv.addGraph(function(){return u=nv.models.pieChart().margin({top:0,right:0,bottom:0,left:0}).x(function(e){return e.value}).y(function(e){return e.value}).height(250).width(250).showLabels(!0).labelThreshold(.001).growOnHover(!1).donut(!0).donutRatio(.5).color(function(e){return e.color||d3.scale.paletteColors().range()}),u.tooltip.enabled(!1),u.noData("No data for this moment..."),u.showLegend(!1),p=d3.select(e.get(0)).select(".pie-chart svg").attr("height",250).style("opacity",0).datum(c.data).call(u),nv.utils.windowResize(function(){u.update(),a(m)}),u},function(){a(l)})}]}}angular.module("pipPieCharts",[]).directive("pipPieChart",e)}();