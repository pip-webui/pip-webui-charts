!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,(t.pip||(t.pip={})).charts=e()}}(function(){return function e(t,n,a){function i(l,o){if(!n[l]){if(!t[l]){var s="function"==typeof require&&require;if(!o&&s)return s(l,!0);if(r)return r(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return i(n?n:e)},d,d.exports,e,t,n,a)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<a.length;l++)i(a[l]);return i}({1:[function(e,t,n){!function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,n,a,i){function r(){if(0===e.find(".nv-noData").length)d3.select(e.find(".empty-state")[0]).remove();else{e.find(".nv-noData").attr("x",100);var t=u.append("g").classed("empty-state",!0);t.append("g").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",260).attr("width",38),t.append("g").attr("transform","translate(46, 60)").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",200).attr("width",38),t.append("g").attr("transform","translate(92, 160)").style("fill","rgba(0, 0, 0, 0.08)").append("rect").attr("height",100).attr("width",38)}}function l(){var t=e.find(".nv-bar text"),n=e.find(".nv-bar"),a=e.find(".nvd3-svg")[0].getBBox().height;d3.select(e.find(".bar-chart")[0]).classed("visible",!0),n.each(function(e,n){var i=n.getBBox(),r=d3.select(n),l=d3.transform(r.attr("transform")).translate[1];r.attr("transform","translate("+Number(46*e+50)+", "+a+")").select("rect").attr("width",38),r.transition().duration(1e3).attr("transform","translate("+Number(46*e+50)+", "+l+")"),d3.select(t[e]).attr("dy",i.height/2).attr("x",19)})}function o(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function s(){c.data[0]&&c.data&&c.data[0].values.forEach(function(e,t){e.color=e.color||o(p[t])})}var c=this,d=null,u=null,p=_.map(i,function(e,t){return t});c.data=c.series||[],(c.series||[]).length>p.length&&(c.data=c.series.slice(0,9)),c.legend=c.data[0]?c.data[0].values:[],s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(p.map(o))},t.$watch("barChart.series",function(e){c.data=e||[],s(),d&&(u.datum(c.data).call(d),d.update(),r(),n(function(){c.legend=c.data[0]?c.data[0].values:[]}))}),nv.addGraph(function(){return d=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(e){return e.label}).y(function(e){return e.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(e){return e.color||d3.scale.paletteColors().range()}),d.tooltip.enabled(!1),d.noData("There is no data right now..."),u=d3.select(e.get(0)).select(".bar-chart svg").datum(c.data).style("height",270).call(d),d},function(){d.dispatch.on("beforeUpdate",function(){n(l,0)}),n(l,0),r()})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",e)}()},{}],2:[function(e,t,n){!function(){"use strict";angular.module("pipCharts",["pipBarCharts","pipLineCharts","pipPieCharts","pipChartLegends"])}()},{}],3:[function(e,t,n){!function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",interactive:"=pipInteractive"},templateUrl:"legend/interactive_legend.html",controller:["$element","$scope","$timeout","$mdColorPalette",function(e,t,n,a){function i(){var n=$(e).find("md-checkbox .md-container");n.each(function(e,n){$(n).css("color",t.series[e].color||o[e]).find(".md-icon").css("background-color",t.series[e].color||o[e])})}function r(){var t=$(e).find(".chart-legend-item");t.each(function(e,t){n(function(){$(t).addClass("visible")},200*e)})}function l(){t.series&&t.series.forEach(function(e,t){e.color=e.color||o[t],e.disabled=e.disabled||!1})}var o=_.map(a,function(e){return e[500].hex});t.$watch("series",function(){n(function(){r(),i()},0),l()},!0),t.$watch("interactive",function(e,t){1==e&&e!=t&&n(i,0)}),n(function(){r(),i()},0),l()}]}}angular.module("pipChartLegends",[]).directive("pipChartLegend",e)}()},{}],4:[function(e,t,n){!function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",showYAxis:"=pipYAxis",showXAxis:"=pipXAxis",dynamic:"=pipDynamic",interactiveLegend:"=pipInterLegend"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,n,a,i){function r(e){var t=[];return _.each(e,function(e){e.disabled||t.push(e)}),_.cloneDeep(t)}function l(){e.find("text.nv-noData").get(0)?(f.append("defs").append("pattern").attr("height",1).attr("width",1).attr("x","0").attr("y","0").attr("id","bg").append("image").attr("x",27).attr("y",0).attr("height","100%").attr("width",1151).attr("xlink:href","images/line_chart_empty_state.svg"),f.append("rect").classed("empty-state",!0).attr("height","100%").attr("width","100%").attr("fill","url(#bg)")):d3.select(e.find(".empty-state")[0]).remove()}function o(t,n){var a=n[1]-n[0],i=t[1]-t[0],r=(t[1]-t[0])/a===1;$(e[0]).find(".visual-scroll").css("opacity",function(){return r?0:1}),r||$(e[0]).find(".scrolled-block").css("left",function(){return t[0]/a*100+"%"}).css("width",function(){return i/a*100+"%"})}function s(t,n){function a(e){g=e.yAxis,v=e.xAxis,b=e.xDomain||v.scale().domain,x=e.yDomain||g.scale().domain,y=e.update,C=v.scale(),w=g.scale(),k=v.scale().domain().slice(),A=g.scale().domain().slice(),z=k,L=T.scale(),B=T.translate(),C.nice(),w.nice()}function i(e,t,n,a){return e[0]<t[0]&&(e[0]=t[0],z[0]!==t[0]||n!==L?e[1]+=t[0]-e[0]:(e[1]=z[1],a=_.clone(B))),e[1]>t[1]&&(e[1]=t[1],z[1]!==t[1]||n!==L?e[0]-=e[1]-t[1]:(e[0]=z[0],a=_.clone(B))),T.translate(a),z=_.clone(e),L=_.clone(n),B=_.clone(a),e}function r(){T.scale(1),T.translate([0,0]),C.domain(k),T.x(C).y(w),n.call(T)}function l(){1===d3.event.scale?(p(),r()):(b(i(C.domain(),k,d3.event.scale,d3.event.translate)),y()),o(C.domain(),k)}function s(e){var t=T.translate();"right"===e?t[0]-=20:t[0]+=20,T.translate(t),T.event(n)}function c(e){var t=T.scale(),n=T.translate();return[(e[0]-n[0])/t,(e[1]-n[1])/t]}function d(e){var t=T.scale(),n=T.translate();return[e[0]*t+n[0],e[1]*t+n[1]]}function u(){switch(d3.event.keyCode){case 39:s("right");break;case 37:s("left");break;case 107:h("in");break;case 109:h("out")}}function p(){b(k),y(),T.scale(1),T.translate([0,0]),L=1,B=[0,0]}var f=4,g=null,v=null,b=null,x=null,y=null,n=n,C=null,w=null,k=null,A=null,T=d3.behavior.zoom(),z=null,L=null,B=null;a(t),h=function(e){var t=[n[0][0].getBBox().width/2,n[0][0].getBBox().height/2],a=T.translate(),i=c(t);"in"===e?L<f&&T.scale(L+.2):L>1&&T.scale(L-.2);var r=d(i);T.translate([a[0]+t[0]-r[0],a[1]+t[1]-r[1]]),T.event(n)},T.x(C).y(w).scaleExtent([1,f]).on("zoom",l),n.call(T).on("dblclick.zoom",p),$(e.get(0)).addClass("dynamic"),n.attr("focusable",!1).style("outline","none").on("keydown",u).on("focus",function(){});var D=function(e){for(var t,n=null,a=0;a<e.length;a++)if(!e[a].disabled){var i=d3.max(e[a].values,function(e){return e.x}),r=d3.min(e[a].values,function(e){return e.x});n=!n||i<n?i:n,t=!t||r>t?r:t}return[t,n]};m=function(e){g=t.yAxis,v=t.xAxis,C=v.scale(),w=g.scale(),k=D(e),1===T.scale()&&(T.x(C).y(w),n.call(T),T.event(n)),o(C.domain(),k)}}function c(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function d(){u.data&&u.data.forEach(function(e,t){e.color=e.color||c(g[t])})}var u=this,p=null,f=null,h=null,m=null,g=_.map(i,function(e,t){return t});u.data=r(u.series)||[],u.legend=_.clone(u.series),u.sourceEvents=[],u.isVisibleX=function(){return void 0==u.showXAxis||u.showXAxis},u.isVisibleY=function(){return void 0==u.showYAxis||u.showYAxis},u.zoomIn=function(){h&&h("in")},u.zoomOut=function(){h&&h("out")},u.series&&u.series.length>g.length&&(u.data=u.series.slice(0,9)),d(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(g.map(c))},t.$watch("lineChart.series",function(e){u.data=r(e),u.legend=_.clone(u.series),d(),p&&(f.datum(u.data||[]).call(p),l(),m&&m(u.data))},!0),t.$watch("lineChart.legend",function(e){u.data=r(e),u.legend=e,p&&(f.datum(u.data||[]).call(p),l(),m&&m(u.data))},!0),nv.addGraph(function(){return p=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:30}).x(function(e){return e.x}).y(function(e){return e.value}).height(270).useInteractiveGuideline(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(e){return e.color||d3.scale.paletteColors().range()}),p.tooltip.enabled(!1),p.noData("There is no data right now..."),p.yAxis.tickFormat(function(e){return e/1e3+"k"}),p.xAxis.tickFormat(function(e){return e.toFixed(2)}),f=d3.select(e.get(0)).select(".line-chart svg"),f.datum(u.data||[]).style("height",270).call(p),u.dynamic&&s(p,f),nv.utils.windowResize(p.update),p},function(){l()})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",e)}()},{}],5:[function(e,t,n){!function(){"use strict";function e(){return{restrict:"E",scope:{series:"=pipSeries",donut:"=pipDonut",legend:"=pipShowLegend",total:"=pipShowTotal",size:"=pipPieSize"},bindToController:!0,controllerAs:"pieChart",templateUrl:"pie/pie_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(e,t,n,a,i){function r(t){if(e.find("text.nv-noData").get(0)){0===e.find(".pip-empty-pie-text").length&&e.find(".pie-chart").append("<div class='pip-empty-pie-text'>There is no data right now...</div>");var n=d3.layout.pie().sort(null),a=Number(d.size||250),i=d3.svg.arc().innerRadius(a/2-20).outerRadius(a/2-57);t=d3.select(t).append("g").classed("empty-state",!0).attr("transform","translate("+a/2+","+a/2+")");t.selectAll("path").data(n([1])).enter().append("path").attr("fill","rgba(0, 0, 0, 0.08)").attr("d",i)}else d3.select(e.find(".empty-state")[0]).remove(),e.find(".pip-empty-pie-text").remove()}function l(t){if((d.total||d.donut)&&d.data){var n=d.data.reduce(function(e,t){return e+t.value},0);d3.select(t).select(".nv-pie:not(.nvd3)").append("text").classed("label-total",!0).attr("text-anchor","middle").style("dominant-baseline","central").text(n),p=d3.select(e.find("text.label-total").get(0)).style("opacity",0)}}function o(){if((d.total||d.donut)&&d.data){var t=d.donut?e.find(".nv-pieLabels").get(0).getBBox():e.find(".nvd3.nv-pieChart").get(0).getBBox();t.width&&t.height&&p.style("font-size",~~t.width/(d.donut?2:2.5)).style("opacity",1)}}function s(e){return"rgba("+i[e][500].value[0]+","+i[e][500].value[1]+","+i[e][500].value[2]+","+(i[e][500].value[3]||1)+")"}function c(){d.data&&d.data.forEach(function(e,t){e.color=e.color||s(h[t])})}var d=this,u=null,p=null,f=null,h=_.map(i,function(e,t){return t}),m=o;d.data=d.data||[],d.showLegend=function(){return void 0===d.legend||d.legend},d.series&&d.series.length>h.length&&(d.data=d.series.slice(0,9)),t.$watch("pieChart.series",function(t){d.data=t,c(),u&&(f.datum(d.data).call(u),n(m),r(d3.select(e.get(0)).select(".pie-chart svg")[0][0]))},!0),c(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(h.map(s))},nv.addGraph(function(){return u=nv.models.pieChart().margin({top:0,right:0,bottom:0,left:0}).x(function(e){return d.donut?e.value:null}).y(function(e){return e.value}).height(d.size||250).width(d.size||250).showLabels(!0).labelThreshold(.001).growOnHover(!1).donut(d.donut).donutRatio(.5).color(function(e){return e.color||d3.scale.paletteColors().range()}),u.tooltip.enabled(!1),u.noData("There is no data right now..."),u.showLegend(!1),f=d3.select(e.get(0)).select(".pie-chart svg").attr("height",d.size||250).attr("width",d.size||250).style("opacity",0).datum(d.data||[]).call(u),nv.utils.windowResize(function(){u.update(),n(m),r(d3.select(e.get(0)).select(".pie-chart svg")[0][0])}),u},function(){n(function(){var t=d3.select(e.get(0)).select(".pie-chart svg")[0][0];l(t),d3.select(t).transition().duration(1e3).style("opacity",1),n(o,800),r(t)})})}]}}angular.module("pipPieCharts",[]).directive("pipPieChart",e)}()},{}],6:[function(e,t,n){!function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("bar/bar_chart.html",'<div class="bar-chart"><svg></svg></div><pip-chart-legend pip-series="barChart.legend" pip-interactive="false"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("legend/interactive_legend.html",'<div><div class="chart-legend-item" ng-repeat="item in series"><md-checkbox class="lp16 m8" ng-model="item.disabled" ng-true-value="false" ng-false-value="true" ng-if="interactive" aria-label="{{ item.label }}"><p class="legend-item-value" ng-if="item.value" ng-style="{\'background-color\': item.color}">{{ item.value }}</p><p class="legend-item-label">{{:: item.label || item.key }}</p></md-checkbox><div ng-if="!interactive"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label || item.key}}</span></div></div></div>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("pie/pie_chart.html",'<div class="pie-chart" ng-class="{\'circle\': !pieChart.donut}"><svg class="flex-auto"></svg></div><pip-chart-legend pip-series="pieChart.data" pip-interactive="false" ng-if="pieChart.showLegend()"></pip-chart-legend>')}])}(),function(e){try{e=angular.module("pipCharts.Templates")}catch(t){e=angular.module("pipCharts.Templates",[])}e.run(["$templateCache",function(e){e.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto" ng-class="{\'visible-x-axis\': lineChart.isVisibleX(), \'visible-y-axis\': lineChart.isVisibleY()}"></svg><div class="scroll-container"><div class="visual-scroll"><div class="scrolled-block"></div></div></div><md-button class="md-fab md-mini minus-button" ng-click="lineChart.zoomOut()"><md-icon md-svg-icon="icons:minus-circle"></md-icon></md-button><md-button class="md-fab md-mini plus-button" ng-click="lineChart.zoomIn()"><md-icon md-svg-icon="icons:plus-circle"></md-icon></md-button></div><pip-chart-legend pip-series="lineChart.legend" pip-interactive="lineChart.interactiveLegend"></pip-chart-legend>')}])}()},{}]},{},[1,2,3,4,5,6])(6)});
//# sourceMappingURL=pip-webui-charts.min.js.map
