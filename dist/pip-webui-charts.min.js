!function(t){"use strict";t.module("pipCharts",["pipBarCharts","pipLineCharts"])}(window.angular),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><div class="pip-chart-legend"><div class="legend-title" ng-repeat="item in barChart.legend"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label}}</span></div></div>')}])}(),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("line/line_chart.html",'<div class="line-chart" flex="auto" layout="column"><svg class="flex-auto"></svg></div><div class="pip-chart-legend"><div class="legend-title" ng-repeat="item in lineChart.data"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.key}}</span></div></div>')}])}(),function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,a,n,r){function l(){var t=d3.selectAll(".nv-bar text")[0],e=d3.selectAll(".nv-bar")[0],n=d3.selectAll(".legend-title")[0],r=d3.select(".nvd3-svg")[0][0].getBBox().height;d3.select(".bar-chart").classed("visible",!0),e.forEach(function(e,a){var n=e.getBBox(),l=d3.select(e),i=d3.transform(l.attr("transform")).translate[1];l.attr("transform","translate("+Number(46*a+50)+", "+r+")").select("rect").attr("width",38),l.transition().duration(1e3).attr("transform","translate("+Number(46*a+50)+", "+i+")"),d3.select(t[a]).attr("dy",n.height/2).attr("x",19)}),n.forEach(function(t,e){a(function(){$(t).addClass("visible")},200*e)})}function i(t){return"rgba("+r[t][500].value[0]+","+r[t][500].value[1]+","+r[t][500].value[2]+","+(r[t][500].value[3]||1)+")"}function o(){s.legend.forEach(function(t,e){t.color=t.color||i(d[e])})}var s=this,c=null,u=null,d=_.map(r,function(t,e){return e});s.data=s.series||[],(s.series||[]).length>d.length&&(s.data=s.series.slice(0,9)),s.legend=s.data[0].values,o(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(i))},e.$watch("barChart.series",function(t){s.data=t||[],o(),c&&(u.datum(s.data).call(c),c.update(),intervalUpdate(c.update,10))}),nv.addGraph(function(){return c=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(t){return t.label}).y(function(t){return t.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(t){return t.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),u=d3.select(t.get(0)).select(".bar-chart svg").datum(s.data).style("height",270).call(c),c},function(){c.dispatch.on("beforeUpdate",function(){a(l,0)}),a(l,0)})}]}}angular.module("pipBarCharts",[]).directive("pipBarChart",t)}(),function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"lineChart",templateUrl:"line/line_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,a,n,r){function l(t){return"rgba("+r[t][500].value[0]+","+r[t][500].value[1]+","+r[t][500].value[2]+","+(r[t][500].value[3]||1)+")"}function i(){o.data.forEach(function(t,e){t.color=t.color||l(u[e])})}var o=this,s=null,c=null,u=_.map(r,function(t,e){return e});o.data=o.series||[],o.series.length>u.length&&(o.data=o.series.slice(0,9)),i(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(u.map(l))},e.$watch("lineChart.series",function(t){o.data=t,i(),s&&c.datum(o.data).call(s)},!0),nv.addGraph(function(){return s=nv.models.lineChart().margin({top:20,right:20,bottom:30,left:30}).x(function(t){return t.x}).y(function(t){return t.value}).height(270).interactive(!0).showXAxis(!0).showYAxis(!0).showLegend(!1).color(function(t){return t.color||d3.scale.paletteColors().range()}),s.tooltip.enabled(!1),s.noData("No data for this moment..."),s.yAxis.tickFormat(function(t){return Math.round(t%1*100)}),s.xAxis.tickFormat(function(t){return Math.round(t)}),c=d3.select(t.get(0)).select(".line-chart svg"),c.datum(o.data).style("height",270).call(s),nv.utils.windowResize(s.update),s},function(){var t=d3.selectAll(".legend-title")[0];t.forEach(function(t,e){a(function(){$(t).addClass("visible")},200*e)})})}]}}angular.module("pipLineCharts",[]).directive("pipLineChart",t)}();