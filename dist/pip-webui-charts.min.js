!function(t){"use strict";t.module("pipCharts",["pipStaticCharts"])}(window.angular),function(t){try{t=angular.module("pipCharts.Templates")}catch(e){t=angular.module("pipCharts.Templates",[])}t.run(["$templateCache",function(t){t.put("bar/bar_chart.html",'<div class="bar-chart flex-auto layout-column"><svg class="flex-auto"></svg></div><div class="static-chart-legend"><div class="legend-title" ng-repeat="item in barChart.legend"><span class="bullet" ng-style="{\'background-color\': item.color}"></span> <span>{{:: item.label}}</span></div></div>')}])}(),function(){"use strict";function t(){return{restrict:"E",scope:{series:"=pipSeries"},bindToController:!0,controllerAs:"barChart",templateUrl:"bar/bar_chart.html",controller:["$element","$scope","$timeout","$interval","$mdColorPalette",function(t,e,a,r,l){function n(){var t=d3.selectAll(".nv-bar text")[0],e=d3.selectAll(".nv-bar")[0],r=d3.selectAll(".legend-title")[0],l=d3.select(".nvd3-svg")[0][0].getBBox().height;e.forEach(function(e,a){var r=e.getBBox(),n=d3.select(e),o=d3.transform(n.attr("transform")).translate[1];n.attr("transform","translate("+Number(46*a+50)+", "+l+")").select("rect").attr("width",38),n.transition().duration(1e3).attr("transform","translate("+Number(46*a+50)+", "+o+")"),d3.select(t[a]).attr("dy",r.height/2).attr("x",19)}),r.forEach(function(t,e){a(function(){$(t).addClass("visible")},200*e)})}function o(t){return"rgba("+l[t][500].value[0]+","+l[t][500].value[1]+","+l[t][500].value[2]+","+(l[t][500].value[3]||1)+")"}function s(){i.legend.forEach(function(t,e){t.color=t.color||o(d[e])})}var i=this,c=null,u=null,d=_.map(l,function(t,e){return e});i.data=i.series||[],(i.series||[]).length>d.length&&(i.data=i.series.slice(0,9)),i.legend=i.data[0].values,s(),d3.scale.paletteColors=function(){return d3.scale.ordinal().range(d.map(o))},e.$watch("barChart.series",function(t){i.data=t||[],s(),c&&(u.datum(i.data).call(c),c.update(),intervalUpdate(c.update,10))}),nv.addGraph(function(){return c=nv.models.discreteBarChart().margin({top:10,right:0,bottom:0,left:-50}).x(function(t){return t.label}).y(function(t){return t.value}).showValues(!0).showXAxis(!1).showYAxis(!1).valueFormat(d3.format("d")).duration(0).height(270).color(function(t){return t.color||d3.scale.paletteColors().range()}),c.tooltip.enabled(!1),c.noData("No data for this moment..."),u=d3.select(t.get(0)).select(".bar-chart svg").datum(i.data).style("height",270).call(c),c},function(){c.dispatch.on("beforeUpdate",function(){a(n,0)}),a(n,0)})}]}}angular.module("pipStaticCharts",[]).directive("pipBarChart",t)}();